<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CTF Answer Solving</title>
    <link rel="stylesheet" href="answer-solving.css">
</head>
<body>
    <div class="container">
        <div class="question-section">
            <p class="question-text">
                <span id="category-icon" style="color: #96ceb4;">
                    üîê <strong id="category-name">Cryptography</strong>
                </span>
                <br><br>
                
                <!-- Question content - can be anything -->
                <div class="question-content">
                    Decrypt the following message to find the flag: U2FsdGVkX1+vupppZksvRf5pq5g5XjFRlipRkwB0K1Y=
                </div>
                
                <!-- Attachment/Link section - only shows if provided -->
                <div id="attachment-section" class="optional-section" style="display: none;">
                    <a href="#" target="_blank" rel="noopener noreferrer" class="action-link">
                        üìé Download Attachment
                    </a>
                </div>
                
                <!-- External link - only shows if provided -->
                <div id="link-section" class="optional-section" style="display: none;">
                    <a href="#" target="_blank" rel="noopener noreferrer" class="action-link">
                        üîó External Link
                    </a>
                </div>
                
                <!-- Hint - only shows if provided -->
                <div id="hint-section" class="optional-section" style="display: none;">
                    <small class="hint-text">
                        üí° Hint: The encryption method starts with "AES"
                    </small>
                </div>
            </p>
        </div>
        
        <div class="input-section">
            <input 
                type="text" 
                class="answer-input"
                placeholder="flag{your_answer_here}"
            />
            <button class="submit-button">
                üöÄ Submit
            </button>
        </div>
    </div>

    <script>
        // Category information with icons and colors
        const categoryInfo = {
            'Web exploitation': { icon: 'üåê', color: '#ff6b6b' },
            'Reverse engineering': { icon: 'üîß', color: '#4ecdc4' },
            'OSINT': { icon: 'üîç', color: '#45b7d1' },
            'Cryptography': { icon: 'üîê', color: '#96ceb4' },
            'Miscellaneous': { icon: 'üéØ', color: '#feca57' }
        };

        // Function to get URL parameters
        function getUrlParameter(name) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(name);
        }

        // Function to update the page based on URL parameters
        function updatePage() {
            // Get parameters from URL
            const category = getUrlParameter('category') || 'Cryptography';
            const question = getUrlParameter('question') || 'Decrypt the following message to find the flag: U2FsdGVkX1+vupppZksvRf5pq5g5XjFRlipRkwB0K1Y=';
            const hint = getUrlParameter('hint') || '';
            const link = getUrlParameter('link') || '';
            const attachment = getUrlParameter('attachment') || '';

            // Update category
            const currentCategory = categoryInfo[category] || categoryInfo['Miscellaneous'];
            document.getElementById('category-icon').innerHTML = `${currentCategory.icon} <strong>${category}</strong>`;
            document.getElementById('category-icon').style.color = currentCategory.color;

            // Update question content
            document.querySelector('.question-content').textContent = question;

            // Show/hide optional sections based on parameters
            const attachmentSection = document.getElementById('attachment-section');
            const linkSection = document.getElementById('link-section');
            const hintSection = document.getElementById('hint-section');

            if (attachment) {
                attachmentSection.style.display = 'block';
                attachmentSection.querySelector('a').href = attachment;
            } else {
                attachmentSection.style.display = 'none';
            }

            if (link) {
                linkSection.style.display = 'block';
                linkSection.querySelector('a').href = link;
            } else {
                linkSection.style.display = 'none';
            }

            if (hint) {
                hintSection.style.display = 'block';
                hintSection.querySelector('.hint-text').textContent = `üí° Hint: ${hint}`;
            } else {
                hintSection.style.display = 'none';
            }
        }

        // Initialize page when loaded
        document.addEventListener('DOMContentLoaded', updatePage);

        // Example usage - you can test with these URLs:
        // ?category=Web%20exploitation&question=Find%20the%20vulnerability&hint=Try%20SQL%20injection
        // ?category=OSINT&question=Investigate%20this%20target&link=https://example.com
        // ?category=Reverse%20engineering&question=Analyze%20this%20binary&attachment=binary.exe
    </script>
</body>
</html>


